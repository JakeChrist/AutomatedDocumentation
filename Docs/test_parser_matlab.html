<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>test_parser_matlab</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul>
        <li><a href="index.html"><strong>üè† Project Overview</strong></a></li>
<li><a href="cache.html">cache</a></li>
<li><a href="docgenerator.html">docgenerator</a></li>
<li><a href="html_writer.html">html_writer</a></li>
<li><a href="llm_client.html">llm_client</a></li>
<li><a href="parser_matlab.html">parser_matlab</a></li>
<li><a href="parser_python.html">parser_python</a></li>
<li><a href="reviewer.html">reviewer</a></li>
<li><a href="scanner.html">scanner</a></li>
<li><a href="test_cache.html">test_cache</a></li>
<li><a href="test_docgenerator.html">test_docgenerator</a></li>
<li><a href="test_docgenerator_subclasses.html">test_docgenerator_subclasses</a></li>
<li><a href="test_html_writer.html">test_html_writer</a></li>
<li><a href="test_integration.html">test_integration</a></li>
<li><a href="test_llm_client.html">test_llm_client</a></li>
<li><a href="test_parser_matlab.html">test_parser_matlab</a></li>
<li><a href="test_parser_python.html">test_parser_python</a></li>
<li><a href="test_reviewer.html">test_reviewer</a></li>
<li><a href="test_scanner.html">test_scanner</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>test_parser_matlab</h1>
        <p>The module defines two test functions to verify the functionality of a `parse_matlab_file` function. The tests create temporary MATLAB files with different contents, parse them using the `parse_matlab_file` function, and then check if the parsed results match expected values for headers and function details.</p>
<h2>Functions</h2>
<h3 id="test_parse_simple_matlab">test_parse_simple_matlab(tmp_path: Path) -&gt; None</h3>
<p>The function `test_parse_simple_matlab` tests the parsing of a simple MATLAB file. It creates a temporary file with MATLAB code, calls the `parse_matlab_file` function to parse it, and asserts that the parsed header and functions match the expected values.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_parse_simple_matlab</span>(tmp_path: Path) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    src <span style="color: #666666">=</span> textwrap<span style="color: #666666">.</span>dedent(
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">        % Example MATLAB file</span>
<span style="color: #BA2121; font-style: italic">        % Another line</span>
<span style="color: #BA2121; font-style: italic">        function y = add(x, y)</span>
<span style="color: #BA2121; font-style: italic">            y = x + y;</span>
<span style="color: #BA2121; font-style: italic">        end</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
    )
    file <span style="color: #666666">=</span> tmp_path <span style="color: #666666">/</span> <span style="color: #BA2121">&quot;sample.m&quot;</span>
    file<span style="color: #666666">.</span>write_text(src)

    result <span style="color: #666666">=</span> parse_matlab_file(<span style="color: #008000">str</span>(file))

    <span style="color: #008000; font-weight: bold">assert</span> result[<span style="color: #BA2121">&quot;header&quot;</span>] <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;Example MATLAB file</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">Another line&quot;</span>
    <span style="color: #008000; font-weight: bold">assert</span> <span style="color: #008000">len</span>(result[<span style="color: #BA2121">&quot;functions&quot;</span>]) <span style="color: #666666">==</span> <span style="color: #666666">1</span>
    func <span style="color: #666666">=</span> result[<span style="color: #BA2121">&quot;functions&quot;</span>][<span style="color: #666666">0</span>]
    <span style="color: #008000; font-weight: bold">assert</span> func[<span style="color: #BA2121">&quot;name&quot;</span>] <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;add&quot;</span>
    <span style="color: #008000; font-weight: bold">assert</span> func[<span style="color: #BA2121">&quot;args&quot;</span>] <span style="color: #666666">==</span> [<span style="color: #BA2121">&quot;x&quot;</span>, <span style="color: #BA2121">&quot;y&quot;</span>]
</code></pre>
<h3 id="test_parse_multiple_functions">test_parse_multiple_functions(tmp_path: Path) -&gt; None</h3>
<p>This function tests the `parse_matlab_file` function from the `parser_matlab.py` module. It creates a temporary MATLAB file with multiple functions and uses the parser to extract information about these functions. The test checks that the parser correctly identifies two functions, their names, arguments, and outputs.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_parse_multiple_functions</span>(tmp_path: Path) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    src <span style="color: #666666">=</span> textwrap<span style="color: #666666">.</span>dedent(
<span style="color: #bbbbbb">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;</span>
<span style="color: #BA2121; font-style: italic">        function [out1,out2] = compute(a, b)</span>
<span style="color: #BA2121; font-style: italic">            out1 = a + b;</span>
<span style="color: #BA2121; font-style: italic">            out2 = a - b;</span>
<span style="color: #BA2121; font-style: italic">        end</span>

<span style="color: #BA2121; font-style: italic">        function result = square(x)</span>
<span style="color: #BA2121; font-style: italic">            result = x ^ 2;</span>
<span style="color: #BA2121; font-style: italic">        end</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>
    )
    file <span style="color: #666666">=</span> tmp_path <span style="color: #666666">/</span> <span style="color: #BA2121">&quot;multi.m&quot;</span>
    file<span style="color: #666666">.</span>write_text(src)

    result <span style="color: #666666">=</span> parse_matlab_file(<span style="color: #008000">str</span>(file))

    <span style="color: #008000; font-weight: bold">assert</span> result[<span style="color: #BA2121">&quot;header&quot;</span>] <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;&quot;</span>
    <span style="color: #008000; font-weight: bold">assert</span> <span style="color: #008000">len</span>(result[<span style="color: #BA2121">&quot;functions&quot;</span>]) <span style="color: #666666">==</span> <span style="color: #666666">2</span>
    names <span style="color: #666666">=</span> [f[<span style="color: #BA2121">&quot;name&quot;</span>] <span style="color: #008000; font-weight: bold">for</span> f <span style="color: #AA22FF; font-weight: bold">in</span> result[<span style="color: #BA2121">&quot;functions&quot;</span>]]
    <span style="color: #008000; font-weight: bold">assert</span> names <span style="color: #666666">==</span> [<span style="color: #BA2121">&quot;compute&quot;</span>, <span style="color: #BA2121">&quot;square&quot;</span>]
    <span style="color: #008000; font-weight: bold">assert</span> result[<span style="color: #BA2121">&quot;functions&quot;</span>][<span style="color: #666666">0</span>][<span style="color: #BA2121">&quot;args&quot;</span>] <span style="color: #666666">==</span> [<span style="color: #BA2121">&quot;a&quot;</span>, <span style="color: #BA2121">&quot;b&quot;</span>]
    <span style="color: #008000; font-weight: bold">assert</span> result[<span style="color: #BA2121">&quot;functions&quot;</span>][<span style="color: #666666">1</span>][<span style="color: #BA2121">&quot;args&quot;</span>] <span style="color: #666666">==</span> [<span style="color: #BA2121">&quot;x&quot;</span>]
</code></pre>
    </div>
</body>
</html>
