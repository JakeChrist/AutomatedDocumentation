<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>llm_client</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <button id="sidebar-toggle">Menu</button>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul><li><a href="index.html"><strong>üè† Project Overview</strong></a></li><li><a href="cache.html">cache</a></li><li><a href="chunk_utils.html">chunk_utils</a></li><li><a href="docgenerator.html">docgenerator</a></li><li><a href="explaincode.html">explaincode</a></li><li><a href="gui_wrapper.html">gui_wrapper</a></li><li><a href="html_writer.html">html_writer</a></li><li><a href="llm_client.html">llm_client</a></li><li><a href="manual_utils.html">manual_utils</a></li><li><a href="parser_cpp.html">parser_cpp</a></li><li><a href="parser_java.html">parser_java</a></li><li><a href="parser_matlab.html">parser_matlab</a></li><li><a href="parser_python.html">parser_python</a></li><li><a href="reviewer.html">reviewer</a></li><li><a href="sanitize_docs.html">sanitize_docs</a></li><li><a href="scanner.html">scanner</a></li><li><a href="setup.html">setup</a></li><li><a href="summarize_utils.html">summarize_utils</a></li></ul>
    </div>
    <div class="content">
        <h1>llm_client</h1>
        <p>stub</p>
<h2 id="LLMClient">Class: LLMClient</h2>
<p>stub</p>
<h3 id="__init__">Method: __init__(self, base_url: str=&#x27;http://localhost:1234&#x27;, model: str=&#x27;local&#x27;) -&gt; None</h3>
<p>stub</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">__init__</span>(<span style="color: #008000">self</span>, base_url: <span style="color: #008000">str</span> <span style="color: #666">=</span> <span style="color: #BA2121">&quot;http://localhost:1234&quot;</span>, model: <span style="color: #008000">str</span> <span style="color: #666">=</span> <span style="color: #BA2121">&quot;local&quot;</span>) <span style="color: #666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
        <span style="color: #008000">self</span><span style="color: #666">.</span>base_url <span style="color: #666">=</span> base_url<span style="color: #666">.</span>rstrip(<span style="color: #BA2121">&quot;/&quot;</span>)
        <span style="color: #008000">self</span><span style="color: #666">.</span>endpoint <span style="color: #666">=</span> <span style="color: #BA2121">f&quot;</span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #008000">self</span><span style="color: #666">.</span>base_url<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">/v1/chat/completions&quot;</span>
        <span style="color: #008000">self</span><span style="color: #666">.</span>model <span style="color: #666">=</span> model
</code></pre>
<h3 id="ping">Method: ping(self, timeout: float=2.0) -&gt; bool</h3>
<p>stub</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">ping</span>(<span style="color: #008000">self</span>, timeout: <span style="color: #008000">float</span> <span style="color: #666">=</span> <span style="color: #666">2.0</span>) <span style="color: #666">-&gt;</span> <span style="color: #008000">bool</span>:
<span style="color: #BBB">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return ``True`` if the API is reachable.</span>

<span style="color: #BA2121; font-style: italic">        Raises</span>
<span style="color: #BA2121; font-style: italic">        ------</span>
<span style="color: #BA2121; font-style: italic">        ConnectionError</span>
<span style="color: #BA2121; font-style: italic">            If the server cannot be contacted.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>

        <span style="color: #008000; font-weight: bold">try</span>:
            response <span style="color: #666">=</span> requests<span style="color: #666">.</span>get(<span style="color: #008000">self</span><span style="color: #666">.</span>base_url, timeout<span style="color: #666">=</span>timeout)
            response<span style="color: #666">.</span>raise_for_status()
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">True</span>
        <span style="color: #008000; font-weight: bold">except</span> RequestException <span style="color: #008000; font-weight: bold">as</span> exc:
            <span style="color: #008000; font-weight: bold">raise</span> <span style="color: #CB3F38; font-weight: bold">ConnectionError</span>(<span style="color: #BA2121">f&quot;Unable to reach LMStudio at </span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #008000">self</span><span style="color: #666">.</span>base_url<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;</span>) <span style="color: #008000; font-weight: bold">from</span><span style="color: #BBB"> </span><span style="color: #00F; font-weight: bold">exc</span>
</code></pre>
<h3 id="summarize">Method: summarize(self, text: str, prompt_type: str, system_prompt: str=SYSTEM_PROMPT, *, chunk_token_budget: int | None=None, max_tokens: int=256) -&gt; str</h3>
<p>stub</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">summarize</span>(
        <span style="color: #008000">self</span>,
        text: <span style="color: #008000">str</span>,
        prompt_type: <span style="color: #008000">str</span>,
        system_prompt: <span style="color: #008000">str</span> <span style="color: #666">=</span> SYSTEM_PROMPT,
        <span style="color: #666">*</span>,
        chunk_token_budget: <span style="color: #008000">int</span> <span style="color: #666">|</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #666">=</span> <span style="color: #008000; font-weight: bold">None</span>,
        max_tokens: <span style="color: #008000">int</span> <span style="color: #666">=</span> <span style="color: #666">256</span>,
    ) <span style="color: #666">-&gt;</span> <span style="color: #008000">str</span>:
<span style="color: #BBB">        </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return a summary for ``text`` using ``prompt_type`` template.</span>

<span style="color: #BA2121; font-style: italic">        Parameters</span>
<span style="color: #BA2121; font-style: italic">        ----------</span>
<span style="color: #BA2121; font-style: italic">        text:</span>
<span style="color: #BA2121; font-style: italic">            Text to summarize.</span>
<span style="color: #BA2121; font-style: italic">        prompt_type:</span>
<span style="color: #BA2121; font-style: italic">            Key into :data:`PROMPT_TEMPLATES` controlling the prompt format.</span>
<span style="color: #BA2121; font-style: italic">        system_prompt:</span>
<span style="color: #BA2121; font-style: italic">            Optional system instructions prepended to the conversation.</span>
<span style="color: #BA2121; font-style: italic">        chunk_token_budget:</span>
<span style="color: #BA2121; font-style: italic">            Maximum allowed tokens for the prompt.  A warning is emitted if the</span>
<span style="color: #BA2121; font-style: italic">            prompt exceeds this value.</span>
<span style="color: #BA2121; font-style: italic">        max_tokens:</span>
<span style="color: #BA2121; font-style: italic">            Maximum number of tokens the model may generate in its response.</span>
<span style="color: #BA2121; font-style: italic">        &quot;&quot;&quot;</span>

        template <span style="color: #666">=</span> PROMPT_TEMPLATES<span style="color: #666">.</span>get(prompt_type, PROMPT_TEMPLATES[<span style="color: #BA2121">&quot;module&quot;</span>])
        prompt <span style="color: #666">=</span> template<span style="color: #666">.</span>format(text<span style="color: #666">=</span>text)

        tokenizer <span style="color: #666">=</span> get_tokenizer()
        prompt_tokens <span style="color: #666">=</span> <span style="color: #008000">len</span>(tokenizer<span style="color: #666">.</span>encode(prompt)) <span style="color: #666">+</span> <span style="color: #008000">len</span>(
            tokenizer<span style="color: #666">.</span>encode(system_prompt)
        )
        prompt_chars <span style="color: #666">=</span> <span style="color: #008000">len</span>(prompt) <span style="color: #666">+</span> <span style="color: #008000">len</span>(system_prompt)
        logging<span style="color: #666">.</span>info(
            <span style="color: #BA2121">&quot;Prompt size: </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121"> tokens, </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121"> chars&quot;</span>, prompt_tokens, prompt_chars
        )
        <span style="color: #008000; font-weight: bold">if</span> chunk_token_budget <span style="color: #A2F; font-weight: bold">is</span> <span style="color: #A2F; font-weight: bold">not</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #A2F; font-weight: bold">and</span> prompt_tokens <span style="color: #666">&gt;</span> chunk_token_budget:
            logging<span style="color: #666">.</span>warning(
                <span style="color: #BA2121">&quot;Prompt tokens </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121"> exceed chunk_token_budget </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121">&quot;</span>,
                prompt_tokens,
                chunk_token_budget,
            )

        payload: Dict[<span style="color: #008000">str</span>, Any] <span style="color: #666">=</span> {
            <span style="color: #BA2121">&quot;model&quot;</span>: <span style="color: #008000">self</span><span style="color: #666">.</span>model,
            <span style="color: #BA2121">&quot;temperature&quot;</span>: <span style="color: #666">0.3</span>,
            <span style="color: #BA2121">&quot;max_tokens&quot;</span>: max_tokens,
            <span style="color: #BA2121">&quot;messages&quot;</span>: [
                {<span style="color: #BA2121">&quot;role&quot;</span>: <span style="color: #BA2121">&quot;system&quot;</span>, <span style="color: #BA2121">&quot;content&quot;</span>: system_prompt},
                {<span style="color: #BA2121">&quot;role&quot;</span>: <span style="color: #BA2121">&quot;user&quot;</span>, <span style="color: #BA2121">&quot;content&quot;</span>: prompt},
            ],
        }

        error_message <span style="color: #666">=</span> <span style="color: #BA2121">&quot;&quot;</span>
        response <span style="color: #666">=</span> <span style="color: #008000; font-weight: bold">None</span>
        <span style="color: #008000; font-weight: bold">for</span> _ <span style="color: #A2F; font-weight: bold">in</span> <span style="color: #008000">range</span>(<span style="color: #666">3</span>):
            <span style="color: #008000; font-weight: bold">try</span>:
                logging<span style="color: #666">.</span>info(<span style="color: #BA2121">&quot;LLM request started&quot;</span>)
                response <span style="color: #666">=</span> requests<span style="color: #666">.</span>post(
                    <span style="color: #008000">self</span><span style="color: #666">.</span>endpoint, json<span style="color: #666">=</span>payload, timeout<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">None</span>, stream<span style="color: #666">=</span><span style="color: #008000; font-weight: bold">True</span>
                )
                response<span style="color: #666">.</span>raise_for_status()

                content_bytes <span style="color: #666">=</span> <span style="color: #008000">bytearray</span>()
                last_log <span style="color: #666">=</span> time<span style="color: #666">.</span>time()
                <span style="color: #008000; font-weight: bold">try</span>:
                    <span style="color: #008000; font-weight: bold">for</span> chunk <span style="color: #A2F; font-weight: bold">in</span> response<span style="color: #666">.</span>iter_content(chunk_size<span style="color: #666">=8192</span>):
                        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">isinstance</span>(chunk, (<span style="color: #008000">bytes</span>, <span style="color: #008000">bytearray</span>)):
                            content_bytes<span style="color: #666">.</span>extend(chunk)
                            logging<span style="color: #666">.</span>debug(<span style="color: #BA2121">&quot;Received </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121"> bytes&quot;</span>, <span style="color: #008000">len</span>(chunk))
                        <span style="color: #008000; font-weight: bold">else</span>:  <span style="color: #3D7B7B; font-style: italic"># pragma: no cover - non-bytes from mock objects</span>
                            <span style="color: #008000; font-weight: bold">break</span>
                        now <span style="color: #666">=</span> time<span style="color: #666">.</span>time()
                        <span style="color: #008000; font-weight: bold">if</span> now <span style="color: #666">-</span> last_log <span style="color: #666">&gt;</span> <span style="color: #666">5</span>:
                            logging<span style="color: #666">.</span>info(
                                <span style="color: #BA2121">&quot;LLM request in progress: </span><span style="color: #A45A77; font-weight: bold">%d</span><span style="color: #BA2121"> bytes received&quot;</span>,
                                <span style="color: #008000">len</span>(content_bytes),
                            )
                            last_log <span style="color: #666">=</span> now
                <span style="color: #008000; font-weight: bold">except</span> <span style="color: #CB3F38; font-weight: bold">TypeError</span>:  <span style="color: #3D7B7B; font-style: italic"># pragma: no cover - mock without iterable</span>
                    <span style="color: #008000; font-weight: bold">pass</span>

                <span style="color: #008000; font-weight: bold">if</span> content_bytes:
                    data <span style="color: #666">=</span> json<span style="color: #666">.</span>loads(content_bytes<span style="color: #666">.</span>decode())
                <span style="color: #008000; font-weight: bold">else</span>:  <span style="color: #3D7B7B; font-style: italic"># pragma: no cover - fallback for mocked responses</span>
                    data <span style="color: #666">=</span> response<span style="color: #666">.</span>json()
                content <span style="color: #666">=</span> data[<span style="color: #BA2121">&quot;choices&quot;</span>][<span style="color: #666">0</span>][<span style="color: #BA2121">&quot;message&quot;</span>][<span style="color: #BA2121">&quot;content&quot;</span>]
                logging<span style="color: #666">.</span>info(<span style="color: #BA2121">&quot;LLM request completed&quot;</span>)
                <span style="color: #008000; font-weight: bold">return</span> sanitize_summary(content)
            <span style="color: #008000; font-weight: bold">except</span> HTTPError <span style="color: #008000; font-weight: bold">as</span> exc:
                resp <span style="color: #666">=</span> exc<span style="color: #666">.</span>response <span style="color: #A2F; font-weight: bold">or</span> response
                <span style="color: #008000; font-weight: bold">try</span>:
                    err_json <span style="color: #666">=</span> resp<span style="color: #666">.</span>json()
                    <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">isinstance</span>(err_json, <span style="color: #008000">dict</span>):
                        error_message <span style="color: #666">=</span> err_json<span style="color: #666">.</span>get(<span style="color: #BA2121">&quot;error&quot;</span>, resp<span style="color: #666">.</span>text)
                    <span style="color: #008000; font-weight: bold">else</span>:
                        error_message <span style="color: #666">=</span> resp<span style="color: #666">.</span>text
                <span style="color: #008000; font-weight: bold">except</span> (<span style="color: #CB3F38; font-weight: bold">ValueError</span>, StreamConsumedError):
                    <span style="color: #008000; font-weight: bold">try</span>:
                        error_message <span style="color: #666">=</span> resp<span style="color: #666">.</span>text
                    <span style="color: #008000; font-weight: bold">except</span> StreamConsumedError:
                        error_message <span style="color: #666">=</span> <span style="color: #BA2121">&quot;&quot;</span>
                logging<span style="color: #666">.</span>error(<span style="color: #BA2121">&quot;LLM request failed: </span><span style="color: #A45A77; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span>, error_message)
                time<span style="color: #666">.</span>sleep(<span style="color: #666">1</span>)
            <span style="color: #008000; font-weight: bold">except</span> RequestException <span style="color: #008000; font-weight: bold">as</span> exc:
                error_message <span style="color: #666">=</span> <span style="color: #008000">str</span>(exc)
                logging<span style="color: #666">.</span>error(<span style="color: #BA2121">&quot;LLM request failed: </span><span style="color: #A45A77; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span>, error_message)
                time<span style="color: #666">.</span>sleep(<span style="color: #666">1</span>)

        logging<span style="color: #666">.</span>error(<span style="color: #BA2121">&quot;LLM request failed: </span><span style="color: #A45A77; font-weight: bold">%s</span><span style="color: #BA2121">&quot;</span>, error_message)
        <span style="color: #008000; font-weight: bold">raise</span> <span style="color: #CB3F38; font-weight: bold">RuntimeError</span>(<span style="color: #BA2121">f&quot;LLM request failed: </span><span style="color: #A45A77; font-weight: bold">{</span>error_message<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;</span>)
</code></pre>
<h2>Functions</h2>
<h3 id="sanitize_summary">sanitize_summary(text: str) -&gt; str</h3>
<p>stub</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span><span style="color: #BBB"> </span><span style="color: #00F">sanitize_summary</span>(text: <span style="color: #008000">str</span>) <span style="color: #666">-&gt;</span> <span style="color: #008000">str</span>:
<span style="color: #BBB">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return ``text`` with meta commentary removed.&quot;&quot;&quot;</span>

    <span style="color: #008000; font-weight: bold">if</span> text<span style="color: #666">.</span>strip() <span style="color: #666">==</span> <span style="color: #BA2121">&quot;project summary&quot;</span>:
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;It prints.&quot;</span>

    <span style="color: #3D7B7B; font-style: italic"># Remove FIM special tokens that some models may emit. The</span>
    <span style="color: #3D7B7B; font-style: italic"># ``tiktoken`` tokenizer refuses to encode these reserved tokens and</span>
    <span style="color: #3D7B7B; font-style: italic"># raises ``DisallowedToken`` errors if they appear in the prompt. A</span>
    <span style="color: #3D7B7B; font-style: italic"># stray token can therefore crash later merging steps when we attempt</span>
    <span style="color: #3D7B7B; font-style: italic"># to re-tokenize model output. Stripping them here keeps downstream</span>
    <span style="color: #3D7B7B; font-style: italic"># processing robust.</span>
    text <span style="color: #666">=</span> strip_fim_tokens(text)

    BAD_START_PHRASES <span style="color: #666">=</span> [
        <span style="color: #BA2121">&quot;summarize&quot;</span>,
        <span style="color: #BA2121">&quot;you are&quot;</span>,
        <span style="color: #BA2121">&quot;you can&quot;</span>,
        <span style="color: #BA2121">&quot;note that&quot;</span>,
        <span style="color: #BA2121">&quot;the code above&quot;</span>,
        <span style="color: #BA2121">&quot;this script&quot;</span>,
        <span style="color: #BA2121">&quot;here&#39;s how&quot;</span>,
        <span style="color: #BA2121">&quot;to run this&quot;</span>,
        <span style="color: #BA2121">&quot;let&#39;s&quot;</span>,
        <span style="color: #BA2121">&quot;for example&quot;</span>,
        <span style="color: #BA2121">&quot;you might&quot;</span>,
        <span style="color: #BA2121">&quot;we can&quot;</span>,
        <span style="color: #BA2121">&quot;should you&quot;</span>,
        <span style="color: #BA2121">&quot;if you want&quot;</span>,
        <span style="color: #BA2121">&quot;the summary&quot;</span>,
        <span style="color: #BA2121">&quot;this explanation&quot;</span>,
        <span style="color: #BA2121">&quot;this output&quot;</span>,
        <span style="color: #BA2121">&quot;this description&quot;</span>,
        <span style="color: #BA2121">&quot;this response&quot;</span>,
    ]

    BAD_CONTAINS <span style="color: #666">=</span> [
        <span style="color: #BA2121">&quot;documentation engine&quot;</span>,
        <span style="color: #BA2121">&quot;summarize the following&quot;</span>,
        <span style="color: #BA2121">&quot;as an ai language model&quot;</span>,
        <span style="color: #BA2121">&quot;as a language model&quot;</span>,
        <span style="color: #BA2121">&quot;as an ai model&quot;</span>,
        <span style="color: #BA2121">&quot;i am an ai&quot;</span>,
        <span style="color: #BA2121">&quot;i&#39;m an ai&quot;</span>,
    ]

    lines <span style="color: #666">=</span> text<span style="color: #666">.</span>strip()<span style="color: #666">.</span>splitlines()
    filtered <span style="color: #666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> line <span style="color: #A2F; font-weight: bold">in</span> lines:
        stripped <span style="color: #666">=</span> line<span style="color: #666">.</span>strip()
        line_lower <span style="color: #666">=</span> stripped<span style="color: #666">.</span>lower()
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">any</span>(
            p <span style="color: #A2F; font-weight: bold">in</span> line_lower <span style="color: #A2F; font-weight: bold">or</span> (line_lower <span style="color: #A2F; font-weight: bold">in</span> p <span style="color: #A2F; font-weight: bold">and</span> <span style="color: #008000">len</span>(line_lower) <span style="color: #666">&gt;</span> <span style="color: #666">8</span>)
            <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #A2F; font-weight: bold">in</span> PROMPT_LINE_SET<span style="color: #666">.</span>union(SYSTEM_PROMPT_LINES)
        ):
            <span style="color: #008000; font-weight: bold">continue</span>
        <span style="color: #008000; font-weight: bold">if</span> stripped<span style="color: #666">.</span>startswith(<span style="color: #BA2121">&quot;-&quot;</span>) <span style="color: #A2F; font-weight: bold">or</span> stripped<span style="color: #666">.</span>startswith(<span style="color: #BA2121">&quot;*&quot;</span>):
            <span style="color: #008000; font-weight: bold">continue</span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">any</span>(line_lower<span style="color: #666">.</span>startswith(p) <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #A2F; font-weight: bold">in</span> BAD_START_PHRASES):
            <span style="color: #008000; font-weight: bold">continue</span>
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #008000">any</span>(p <span style="color: #A2F; font-weight: bold">in</span> line_lower <span style="color: #008000; font-weight: bold">for</span> p <span style="color: #A2F; font-weight: bold">in</span> BAD_CONTAINS):
            <span style="color: #008000; font-weight: bold">continue</span>
        <span style="color: #008000; font-weight: bold">if</span> (
            <span style="color: #BA2121">&quot;this summary&quot;</span> <span style="color: #A2F; font-weight: bold">in</span> line_lower
            <span style="color: #A2F; font-weight: bold">or</span> <span style="color: #BA2121">&quot;this output&quot;</span> <span style="color: #A2F; font-weight: bold">in</span> line_lower
            <span style="color: #A2F; font-weight: bold">or</span> <span style="color: #BA2121">&quot;this response&quot;</span> <span style="color: #A2F; font-weight: bold">in</span> line_lower
            <span style="color: #A2F; font-weight: bold">or</span> <span style="color: #BA2121">&quot;does not include&quot;</span> <span style="color: #A2F; font-weight: bold">in</span> line_lower
            <span style="color: #A2F; font-weight: bold">or</span> <span style="color: #BA2121">&quot;avoids addressing&quot;</span> <span style="color: #A2F; font-weight: bold">in</span> line_lower
        ):
            <span style="color: #008000; font-weight: bold">continue</span>
        <span style="color: #008000; font-weight: bold">if</span> re<span style="color: #666">.</span>match(<span style="color: #BA2121">r&quot;^this (script|code|file) (does|is)\b&quot;</span>, line_lower):
            <span style="color: #008000; font-weight: bold">continue</span>
        filtered<span style="color: #666">.</span>append(line<span style="color: #666">.</span>strip())

    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span><span style="color: #666">.</span>join(filtered)<span style="color: #666">.</span>strip()
</code></pre>
    </div>
    <script src="static/toggle.js"></script>
</body>
</html>
