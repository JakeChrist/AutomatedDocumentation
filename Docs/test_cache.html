<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>test_cache</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <button id="sidebar-toggle">Menu</button>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul>
        <li><a href="index.html"><strong>üè† Project Overview</strong></a></li>
<li><a href="cache.html">cache</a></li>
<li><a href="chunk_utils.html">chunk_utils</a></li>
<li><a href="docgenerator.html">docgenerator</a></li>
<li><a href="explaincode.html">explaincode</a></li>
<li><a href="gui_wrapper.html">gui_wrapper</a></li>
<li><a href="html_writer.html">html_writer</a></li>
<li><a href="llm_client.html">llm_client</a></li>
<li><a href="manual_utils.html">manual_utils</a></li>
<li><a href="parser_cpp.html">parser_cpp</a></li>
<li><a href="parser_java.html">parser_java</a></li>
<li><a href="parser_matlab.html">parser_matlab</a></li>
<li><a href="parser_python.html">parser_python</a></li>
<li><a href="reviewer.html">reviewer</a></li>
<li><a href="scanner.html">scanner</a></li>
<li><a href="setup.html">setup</a></li>
<li><a href="summarize_utils.html">summarize_utils</a></li>
<li><a href="test_cache.html">test_cache</a></li>
<li><a href="test_chunk_utils.html">test_chunk_utils</a></li>
<li><a href="test_docgenerator.html">test_docgenerator</a></li>
<li><a href="test_docgenerator_subclasses.html">test_docgenerator_subclasses</a></li>
<li><a href="test_explaincode.html">test_explaincode</a></li>
<li><a href="test_html_writer.html">test_html_writer</a></li>
<li><a href="test_integration.html">test_integration</a></li>
<li><a href="test_llm_client.html">test_llm_client</a></li>
<li><a href="test_manual_utils.html">test_manual_utils</a></li>
<li><a href="test_parser_cpp.html">test_parser_cpp</a></li>
<li><a href="test_parser_java.html">test_parser_java</a></li>
<li><a href="test_parser_matlab.html">test_parser_matlab</a></li>
<li><a href="test_parser_python.html">test_parser_python</a></li>
<li><a href="test_reviewer.html">test_reviewer</a></li>
<li><a href="test_scanner.html">test_scanner</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>test_cache</h1>
        <p>This module defines two tests for a `ResponseCache` class. The first test, `test_cache_round_trip`, checks that data can be correctly set and retrieved from the cache file. It uses a temporary path to create a cache file, sets a key-value pair in the cache, reads it back, and asserts that the value matches the expected summary.

The second test, `test_cache_get_missing`, verifies that attempting to retrieve a non-existent key from the cache returns `None`. It creates an empty cache file, attempts to get a value for a missing key, and asserts that the result is `None`.</p>
<h2>Functions</h2>
<h3 id="test_cache_round_trip">test_cache_round_trip(tmp_path: Path) -&gt; None</h3>
<p>This function tests the round-trip functionality of a response cache. It creates a temporary file to store the cache and initializes a `ResponseCache` object with this file path. The function then sets a cache entry for a specific key (&quot;file.py&quot;, &quot;content&quot;) with the value &quot;summary&quot;. After saving the cache, it reloads it from the same file and asserts that retrieving the cached value using the same key returns the expected &quot;summary&quot;.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_cache_round_trip</span>(tmp_path: Path) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    cache_file <span style="color: #666666">=</span> tmp_path <span style="color: #666666">/</span> <span style="color: #BA2121">&quot;cache.json&quot;</span>
    cache <span style="color: #666666">=</span> ResponseCache(<span style="color: #008000">str</span>(cache_file))
    key <span style="color: #666666">=</span> ResponseCache<span style="color: #666666">.</span>make_key(<span style="color: #BA2121">&quot;file.py&quot;</span>, <span style="color: #BA2121">&quot;content&quot;</span>)
    cache<span style="color: #666666">.</span>set(key, <span style="color: #BA2121">&quot;summary&quot;</span>)

    new_cache <span style="color: #666666">=</span> ResponseCache(<span style="color: #008000">str</span>(cache_file))
    <span style="color: #008000; font-weight: bold">assert</span> new_cache<span style="color: #666666">.</span>get(key) <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;summary&quot;</span>
</code></pre>
<h3 id="test_cache_get_missing">test_cache_get_missing(tmp_path: Path) -&gt; None</h3>
<p>This function tests the `get` method of the `ResponseCache` class. It creates a temporary directory and initializes a `ResponseCache` object with a path to a JSON file in that directory. The test asserts that calling the `get` method with a key (&quot;unknown&quot;) that does not exist in the cache returns `None`.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_cache_get_missing</span>(tmp_path: Path) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    cache <span style="color: #666666">=</span> ResponseCache(<span style="color: #008000">str</span>(tmp_path <span style="color: #666666">/</span> <span style="color: #BA2121">&quot;cache.json&quot;</span>))
    <span style="color: #008000; font-weight: bold">assert</span> cache<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;unknown&quot;</span>) <span style="color: #AA22FF; font-weight: bold">is</span> <span style="color: #008000; font-weight: bold">None</span>
</code></pre>
    </div>
    <script src="static/toggle.js"></script>
</body>
</html>
