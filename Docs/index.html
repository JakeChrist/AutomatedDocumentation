<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Project Documentation</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul>
        <li><a href="cache.html">cache</a></li>
<li><a href="docgenerator.html">docgenerator</a></li>
<li><a href="html_writer.html">html_writer</a></li>
<li><a href="llm_client.html">llm_client</a></li>
<li><a href="parser_matlab.html">parser_matlab</a></li>
<li><a href="parser_python.html">parser_python</a></li>
<li><a href="reviewer.html">reviewer</a></li>
<li><a href="scanner.html">scanner</a></li>
<li><a href="test_cache.html">test_cache</a></li>
<li><a href="test_docgenerator.html">test_docgenerator</a></li>
<li><a href="test_html_writer.html">test_html_writer</a></li>
<li><a href="test_integration.html">test_integration</a></li>
<li><a href="test_llm_client.html">test_llm_client</a></li>
<li><a href="test_parser_matlab.html">test_parser_matlab</a></li>
<li><a href="test_parser_python.html">test_parser_python</a></li>
<li><a href="test_reviewer.html">test_reviewer</a></li>
<li><a href="test_scanner.html">test_scanner</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>Project Documentation</h1>
        <p>DocGen-LM is a tool for generating static HTML documentation for Python and MATLAB projects. It analyzes source files and summarizes them using a local Large Language Model (LLM), with support for custom LLM servers via the `llm_client.py` interface. The CLI allows specifying output directories, ignoring certain paths, and selecting specific models or API URLs for the LLM.
This codebase implements a system for generating documentation summaries from source code files using language models. It includes modules for parsing different programming languages (Python and MATLAB), summarizing code with an LLM client, caching responses, and reviewing generated documentation for quality. The project also contains unit tests to ensure functionality across various components.</p>
<hr/>
<h2>Modules</h2>
<ul style="list-style-type: none; padding-left: 0;">
<li style="margin-bottom: 1em;"><a href="cache.html">cache</a><br/><small>A simple on-disk cache for LLM responses. Implements methods to get and set cached values using deterministic keys based on file paths and content. Persists the cache to disk in JSON format.</small></li>
<li style="margin-bottom: 1em;"><a href="docgenerator.html">docgenerator</a><br/><small>This Python script generates HTML documentation for a project using a local language model (LLM). It scans a source tree for Python and MATLAB files, parses them, requests summaries from the LLM, and writes the documentation to an output directory. The script includes functionality to clean the output directory, build prompts for summarization, rewrite docstrings with context, and generate both module-level and class/function-level summaries.</small></li>
<li style="margin-bottom: 1em;"><a href="html_writer.html">html_writer</a><br/><small>This module provides utilities for rendering documentation pages using simple template substitution. It includes functions to highlight code snippets and render HTML content based on project summaries and module data. The `write_index` function generates an index page with navigation links, while the `write_module_page` function creates detailed documentation pages for individual modules, including classes, methods, and functions. Both functions use a shared template and apply HTML escaping to ensure safe rendering of user-provided content.</small></li>
<li style="margin-bottom: 1em;"><a href="llm_client.html">llm_client</a><br/><small>- Defines an interface to interact with a local language model (LLM) backend using LMStudio.
- Includes prompts for different types of documentation and code summaries.
- Implements a `sanitize_summary` function to clean up generated summaries by removing unwanted phrases.
- Provides a `LLMClient` class that:
- Initializes with a base URL and model name.
- Checks connectivity to the LLM server using the `ping` method.
- Generates summaries for given text using specified prompt types through the `summarize` method.</small></li>
<li style="margin-bottom: 1em;"><a href="parser_matlab.html">parser_matlab</a><br/><small>This module provides a parser for MATLAB `.m` files. It extracts the file&#x27;s header comments and any function declarations found within the file. Each function entry includes the function name and a list of arguments. The parsing uses simple line-based techniques as specified in the Software Requirements Specification (SRS).</small></li>
<li style="margin-bottom: 1em;"><a href="parser_python.html">parser_python</a><br/><small>This module provides a parser for Python files using the `ast` module to extract structured information according to the Software Requirements Specification (SRS). It includes functions to format arguments and signatures of functions and methods, and a main function to parse a Python source file and return a dictionary containing the module docstring, classes, and functions. Each class and function is represented with its name, signature, docstring, and source code segment.</small></li>
<li style="margin-bottom: 1em;"><a href="reviewer.html">reviewer</a><br/><small>This module provides a tool for reviewing HTML documentation generated by DocGen-LM. It includes functions to check for assistant-like phrases, contradictions, and hallucinations in the documentation. The `review_directory` function processes all `.html` files in a specified directory, applying checks and optionally fixing issues based on the `autofix` flag. The `main` function sets up command-line arguments to specify the directory to review and whether to automatically fix detected issues.</small></li>
<li style="margin-bottom: 1em;"><a href="scanner.html">scanner</a><br/><small>The module defines a function `scan_directory` that recursively discovers Python (``.py``) and Objective-C (``.m``) source files within a specified directory. It includes an internal helper function `_is_subpath` to check if one path is a subpath of another. The `scan_directory` function also allows for ignoring specific paths or directories during the scan, as defined in the `ignore` list.</small></li>
<li style="margin-bottom: 1em;"><a href="test_cache.html">test_cache</a><br/><small>The module defines two functions for testing a response cache implementation. The `test_cache_round_trip` function tests setting and retrieving a value from the cache, ensuring that the value persists across instances of the cache. The `test_cache_get_missing` function verifies that attempting to retrieve a non-existent key returns `None`. Both functions use a temporary file path provided by `tmp_path` for storing the cache data.</small></li>
<li style="margin-bottom: 1em;"><a href="test_docgenerator.html">test_docgenerator</a><br/><small>This module contains unit tests for a code documentation generator. It uses the `unittest.mock` library to patch the `docgenerator.LLMClient` class and test various scenarios, such as skipping invalid Python files, handling different types of summaries (module, class, function), sanitizing project summaries, using README content for summaries, and cleaning up existing output directories before generating new documentation.</small></li>
<li style="margin-bottom: 1em;"><a href="test_html_writer.html">test_html_writer</a><br/><small>The module defines two functions: `test_write_index` and `test_write_module_page`. These functions are used to test the functionality of writing HTML index and module pages, respectively. The tests use a temporary path (`tmp_path`) to create HTML files and then validate their content through assertions.</small></li>
<li style="margin-bottom: 1em;"><a href="test_integration.html">test_integration</a><br/><small>The module defines two test functions for a documentation generator. The first function, `test_docgenerator_generates_html`, tests the generation of HTML files from Python and MATLAB files in a project directory using a mock LLMClient. It verifies that the output directory contains index.html, hello.html, and util.html files, and that the hello.html file includes a summary.

The second function, `test_static_copied_from_any_cwd`, tests the copying of static files (e.g., style.css) from any current working directory to the output directory. It uses a mock LLMClient and changes the current working directory to the project directory before running the main function. The test asserts that the static file is copied to the output directory.</small></li>
<li style="margin-bottom: 1em;"><a href="test_llm_client.html">test_llm_client</a><br/><small>This module defines a test suite for an `LLMClient` class. It includes tests for the `ping`, `summarize`, and `sanitize_summary` methods of the client. The tests use mocking to simulate HTTP requests and responses, as well as the `pytest` framework for assertions.</small></li>
<li style="margin-bottom: 1em;"><a href="test_parser_matlab.html">test_parser_matlab</a><br/><small>This module defines two test functions to verify the functionality of a MATLAB file parser. The `test_parse_simple_matlab` function checks if the parser correctly extracts the header and a single function from a simple MATLAB file. The `test_parse_multiple_functions` function ensures that the parser can handle multiple functions within a single MATLAB file, including checking the names and arguments of each function.</small></li>
<li style="margin-bottom: 1em;"><a href="test_parser_python.html">test_parser_python</a><br/><small>This module contains tests for parsing Python files using a custom `parse_python_file` function. It includes two test functions:

1. `test_parse_simple_module`: Tests parsing a simple Python module with a class and a function, verifying the extracted docstrings, signatures, and source code.

2. `test_parse_complex_signature`: Tests parsing a function with complex signature parameters, ensuring the correct handling of positional-only arguments (`/`), keyword-only arguments (`*`), default values, and variable-length keyword arguments (`**kw`).</small></li>
<li style="margin-bottom: 1em;"><a href="test_reviewer.html">test_reviewer</a><br/><small>This module defines several functions and tests for a code review tool. It includes:

1. `_make_module`: Creates a temporary module page with specified summary and methods.
2. `test_assistant_phrasing_detected`: Tests if the assistant phrasing is detected and reported.
3. `test_contradiction_detected`: Tests if contradictions in method definitions are detected and reported.
4. `test_hallucination_detected`: Tests if hallucinations (incorrect claims about code features) are detected and reported.
5. `test_autofix_removes_phrasing`: Tests if autofix removes specified phrases from the generated HTML.</small></li>
<li style="margin-bottom: 1em;"><a href="test_scanner.html">test_scanner</a><br/><small>The module defines a function `scan_directory` from the `scanner` module and tests it with `pytest`. It includes three test functions:

1. `test_scan_directory_ignore_folder`: Creates files in a temporary directory, including an &quot;ignore_me&quot; folder. Calls `scan_directory` to get a list of file paths, excluding files in the &quot;ignore_me&quot; folder. Asserts that only expected files are included.

2. `test_scan_directory_mixed_file_types`: Creates files with various extensions and nested directories. Calls `scan_directory` without ignoring any folders. Asserts that all non-.git files are included in the result.

3. `test_scan_directory_skips_git_folder`: Creates files, including ones inside a .git folder. Calls `scan_directory` without ignoring any folders. Asserts that the .git folder and its contents are excluded from the result.</small></li>
</ul>
    </div>
</body>
</html>
