<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>test_manual_utils</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <button id="sidebar-toggle">Menu</button>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul>
        <li><a href="index.html"><strong>üè† Project Overview</strong></a></li>
<li><a href="cache.html">cache</a></li>
<li><a href="chunk_utils.html">chunk_utils</a></li>
<li><a href="docgenerator.html">docgenerator</a></li>
<li><a href="explaincode.html">explaincode</a></li>
<li><a href="gui_wrapper.html">gui_wrapper</a></li>
<li><a href="html_writer.html">html_writer</a></li>
<li><a href="llm_client.html">llm_client</a></li>
<li><a href="manual_utils.html">manual_utils</a></li>
<li><a href="parser_cpp.html">parser_cpp</a></li>
<li><a href="parser_java.html">parser_java</a></li>
<li><a href="parser_matlab.html">parser_matlab</a></li>
<li><a href="parser_python.html">parser_python</a></li>
<li><a href="reviewer.html">reviewer</a></li>
<li><a href="scanner.html">scanner</a></li>
<li><a href="setup.html">setup</a></li>
<li><a href="summarize_utils.html">summarize_utils</a></li>
<li><a href="test_cache.html">test_cache</a></li>
<li><a href="test_chunk_utils.html">test_chunk_utils</a></li>
<li><a href="test_docgenerator.html">test_docgenerator</a></li>
<li><a href="test_docgenerator_subclasses.html">test_docgenerator_subclasses</a></li>
<li><a href="test_explaincode.html">test_explaincode</a></li>
<li><a href="test_html_writer.html">test_html_writer</a></li>
<li><a href="test_integration.html">test_integration</a></li>
<li><a href="test_llm_client.html">test_llm_client</a></li>
<li><a href="test_manual_utils.html">test_manual_utils</a></li>
<li><a href="test_parser_cpp.html">test_parser_cpp</a></li>
<li><a href="test_parser_java.html">test_parser_java</a></li>
<li><a href="test_parser_matlab.html">test_parser_matlab</a></li>
<li><a href="test_parser_python.html">test_parser_python</a></li>
<li><a href="test_reviewer.html">test_reviewer</a></li>
<li><a href="test_scanner.html">test_scanner</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>test_manual_utils</h1>
        <p>The module defines two functions: `_count` and `test_chunk_docs_respects_token_limit`, `test_find_placeholders`. The `_count` function calculates the number of tokens in a given text using a tokenizer from the `manual_utils` module. The `test_chunk_docs_respects_token_limit` function tests the `chunk_docs` function from `manual_utils` to ensure it respects a token limit by splitting documents into chunks that do not exceed the limit. The `test_find_placeholders` function tests the `find_placeholders` function from `manual_utils` to verify its ability to identify and return placeholders in a given text.</p>
<h2>Functions</h2>
<h3 id="_count">_count(text: str) -&gt; int</h3>
<p>Counts the number of tokens in a given text using a tokenizer from `manual_utils`.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_count</span>(text: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">int</span>:
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000">len</span>(manual_utils<span style="color: #666666">.</span>TOKENIZER<span style="color: #666666">.</span>encode(text))
</code></pre>
<h3 id="test_chunk_docs_respects_token_limit">test_chunk_docs_respects_token_limit() -&gt; None</h3>
<p>This function tests the `chunk_docs` method from the `manual_utils` module to ensure it respects a specified token limit. It creates a list of three strings, each containing 1000 characters repeated &#x27;a&#x27;, &#x27;b&#x27;, and &#x27;c&#x27; respectively. The function then chunks these documents using a token limit of 2000 tokens. The test asserts that the number of chunks is exactly two and that no chunk exceeds the token limit of 2000 tokens.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_chunk_docs_respects_token_limit</span>() <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    docs <span style="color: #666666">=</span> [<span style="color: #BA2121">&quot;a &quot;</span> <span style="color: #666666">*</span> <span style="color: #666666">1000</span>, <span style="color: #BA2121">&quot;b &quot;</span> <span style="color: #666666">*</span> <span style="color: #666666">1000</span>, <span style="color: #BA2121">&quot;c &quot;</span> <span style="color: #666666">*</span> <span style="color: #666666">1000</span>]
    chunks <span style="color: #666666">=</span> manual_utils<span style="color: #666666">.</span>chunk_docs(docs, token_limit<span style="color: #666666">=2000</span>)
    <span style="color: #008000; font-weight: bold">assert</span> <span style="color: #008000">len</span>(chunks) <span style="color: #666666">==</span> <span style="color: #666666">2</span>
    <span style="color: #008000; font-weight: bold">assert</span> <span style="color: #008000">all</span>(_count(c) <span style="color: #666666">&lt;=</span> <span style="color: #666666">2000</span> <span style="color: #008000; font-weight: bold">for</span> c <span style="color: #AA22FF; font-weight: bold">in</span> chunks)
</code></pre>
<h3 id="test_find_placeholders">test_find_placeholders() -&gt; None</h3>
<p>The function `test_find_placeholders` is designed to test the functionality of a utility function named `find_placeholders`. This utility function appears to search for and extract placeholder tokens from a given text string. The placeholders are enclosed in double square brackets, such as `[[NEEDS_OVERVIEW]]` and `[[FOO]]`.

In this specific test case:
- A sample text string is provided: `&quot;Intro [[NEEDS_OVERVIEW]] middle [[FOO]] end&quot;`.
- The function `manual_utils.find_placeholders` is called with this text string.
- The expected output, which is a set of placeholder tokens found in the text, is compared to the actual output using an assertion.

The test asserts that the set of placeholders extracted from the text matches the expected set: `{&quot;[[NEEDS_OVERVIEW]]&quot;, &quot;[[FOO]]&quot;}`. If the function works correctly, this assertion will pass, indicating that the placeholder extraction functionality is functioning as intended.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">test_find_placeholders</span>() <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
    text <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;Intro [[NEEDS_OVERVIEW]] middle [[FOO]] end&quot;</span>
    tokens <span style="color: #666666">=</span> manual_utils<span style="color: #666666">.</span>find_placeholders(text)
    <span style="color: #008000; font-weight: bold">assert</span> tokens <span style="color: #666666">==</span> {<span style="color: #BA2121">&quot;[[NEEDS_OVERVIEW]]&quot;</span>, <span style="color: #BA2121">&quot;[[FOO]]&quot;</span>}
</code></pre>
    </div>
    <script src="static/toggle.js"></script>
</body>
</html>
