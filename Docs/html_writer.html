<!-- Generated by DocGen-LM -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>html_writer</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <div class="sidebar">
        <h2>Navigation</h2>
        <ul>
        <li><a href="index.html"><strong>üè† Project Overview</strong></a></li>
<li><a href="cache.html">cache</a></li>
<li><a href="docgenerator.html">docgenerator</a></li>
<li><a href="html_writer.html">html_writer</a></li>
<li><a href="llm_client.html">llm_client</a></li>
<li><a href="parser_matlab.html">parser_matlab</a></li>
<li><a href="parser_python.html">parser_python</a></li>
<li><a href="reviewer.html">reviewer</a></li>
<li><a href="scanner.html">scanner</a></li>
<li><a href="test_cache.html">test_cache</a></li>
<li><a href="test_docgenerator.html">test_docgenerator</a></li>
<li><a href="test_docgenerator_subclasses.html">test_docgenerator_subclasses</a></li>
<li><a href="test_html_writer.html">test_html_writer</a></li>
<li><a href="test_integration.html">test_integration</a></li>
<li><a href="test_llm_client.html">test_llm_client</a></li>
<li><a href="test_parser_matlab.html">test_parser_matlab</a></li>
<li><a href="test_parser_python.html">test_parser_python</a></li>
<li><a href="test_reviewer.html">test_reviewer</a></li>
<li><a href="test_scanner.html">test_scanner</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>html_writer</h1>
        <p>This module provides utilities for rendering documentation pages using simple template substitution. It includes functions to highlight code snippets in various programming languages and to render HTML content based on project summaries and page links. The module also supports generating documentation pages for individual modules, including classes and functions with nested subfunctions and subclasses.</p>
<h2>Functions</h2>
<h3 id="_highlight">_highlight(code: str, language: str) -&gt; str</h3>
<p>The `_highlight` function takes a code string and a language identifier as input. It uses the `pygments` library to highlight the code based on the specified language. If the language is &quot;matlab&quot;, it uses the `MatlabLexer`; if &quot;python&quot;, it uses the `PythonLexer`; otherwise, it defaults to the `TextLexer`. The highlighted code is then formatted using an HTML formatter with no classes and nowrap enabled. The function returns the highlighted code wrapped in `&lt;pre&gt;&lt;code&gt;` tags for proper rendering in HTML.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_highlight</span>(code: <span style="color: #008000">str</span>, language: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return ``code`` highlighted for ``language`` using pygments.&quot;&quot;&quot;</span>
    <span style="color: #008000; font-weight: bold">if</span> language<span style="color: #666666">.</span>lower() <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;matlab&quot;</span>:
        lexer <span style="color: #666666">=</span> MatlabLexer()
    <span style="color: #008000; font-weight: bold">elif</span> language<span style="color: #666666">.</span>lower() <span style="color: #666666">==</span> <span style="color: #BA2121">&quot;python&quot;</span>:
        lexer <span style="color: #666666">=</span> PythonLexer()
    <span style="color: #008000; font-weight: bold">else</span>:
        lexer <span style="color: #666666">=</span> TextLexer()
    formatter <span style="color: #666666">=</span> HtmlFormatter(noclasses<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>, nowrap<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    highlighted <span style="color: #666666">=</span> highlight(code, lexer, formatter)
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">f&quot;&lt;pre&gt;&lt;code&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>highlighted<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/code&gt;&lt;/pre&gt;&quot;</span>
</code></pre>
<h3 id="_render_html">_render_html(title: str, header: str, body: str, nav_html: str) -&gt; str</h3>
<p>The `_render_html` function takes four parameters: `title`, `header`, `body`, and `nav_html`. It reads an HTML template from a file specified by `_TEMPLATE_PATH`. The function then formats this template using the provided parameters for title, header, body, and navigation HTML. Finally, it returns the formatted HTML content with a comment indicating that it was generated by DocGen-LM.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_render_html</span>(title: <span style="color: #008000">str</span>, header: <span style="color: #008000">str</span>, body: <span style="color: #008000">str</span>, nav_html: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">str</span>:
    template <span style="color: #666666">=</span> _TEMPLATE_PATH<span style="color: #666666">.</span>read_text(encoding<span style="color: #666666">=</span><span style="color: #BA2121">&quot;utf-8&quot;</span>)
    content <span style="color: #666666">=</span> template<span style="color: #666666">.</span>format(
        title<span style="color: #666666">=</span>title,
        header<span style="color: #666666">=</span>header,
        body<span style="color: #666666">=</span>body,
        navigation<span style="color: #666666">=</span>nav_html,
        static_path<span style="color: #666666">=</span><span style="color: #BA2121">&quot;static/style.css&quot;</span>,
    )
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&quot;&lt;!-- Generated by DocGen-LM --&gt;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span> <span style="color: #666666">+</span> content
</code></pre>
<h3 id="write_index">write_index(output_dir: str, project_summary: str, page_links: Iterable[Tuple[str, str]], module_summaries: Dict[str, str] | None=None) -&gt; None</h3>
<p>The `write_index` function generates the HTML content for an index page in a project&#x27;s documentation. It takes parameters for the output directory, project summary, navigation links, and optional module summaries. The function creates the destination directory if it doesn&#x27;t exist, constructs the HTML body with the project summary and module links, and writes the rendered HTML to `index.html`.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">write_index</span>(
    output_dir: <span style="color: #008000">str</span>,
    project_summary: <span style="color: #008000">str</span>,
    page_links: Iterable[Tuple[<span style="color: #008000">str</span>, <span style="color: #008000">str</span>]],
    module_summaries: Dict[<span style="color: #008000">str</span>, <span style="color: #008000">str</span>] <span style="color: #666666">|</span> <span style="color: #008000; font-weight: bold">None</span> <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>,
) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Render ``index.html`` with *project_summary* and navigation links.&quot;&quot;&quot;</span>
    dest_dir <span style="color: #666666">=</span> Path(output_dir)
    dest_dir<span style="color: #666666">.</span>mkdir(parents<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>, exist_ok<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    nav_html <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>join(
        <span style="color: #BA2121">f&#39;&lt;li&gt;&lt;a href=&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>link<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(text)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/a&gt;&lt;/li&gt;&#39;</span>
        <span style="color: #008000; font-weight: bold">for</span> text, link <span style="color: #AA22FF; font-weight: bold">in</span> page_links
    )
    body_parts <span style="color: #666666">=</span> [<span style="color: #BA2121">f&quot;&lt;p&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(project_summary)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/p&gt;&quot;</span>, <span style="color: #BA2121">&quot;&lt;hr/&gt;&quot;</span>, <span style="color: #BA2121">&quot;&lt;h2&gt;Modules&lt;/h2&gt;&quot;</span>]

    module_items: <span style="color: #008000">list</span>[<span style="color: #008000">str</span>] <span style="color: #666666">=</span> []
    <span style="color: #008000; font-weight: bold">for</span> text, link <span style="color: #AA22FF; font-weight: bold">in</span> page_links:
        summary <span style="color: #666666">=</span> (module_summaries <span style="color: #AA22FF; font-weight: bold">or</span> {})<span style="color: #666666">.</span>get(text, <span style="color: #BA2121">&quot;&quot;</span>)
        item <span style="color: #666666">=</span> (
            <span style="color: #BA2121">f&#39;&lt;li style=&quot;margin-bottom: 1em;&quot;&gt;&#39;</span>
            <span style="color: #BA2121">f&#39;&lt;a href=&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>link<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(text)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/a&gt;&#39;</span>
        )
        <span style="color: #008000; font-weight: bold">if</span> summary:
            item <span style="color: #666666">+=</span> <span style="color: #BA2121">f&quot;&lt;br/&gt;&lt;small&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(summary)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/small&gt;&quot;</span>
        item <span style="color: #666666">+=</span> <span style="color: #BA2121">&quot;&lt;/li&gt;&quot;</span>
        module_items<span style="color: #666666">.</span>append(item)

    <span style="color: #008000; font-weight: bold">if</span> module_items:
        body_parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&#39;&lt;ul style=&quot;list-style-type: none; padding-left: 0;&quot;&gt;&#39;</span>)
        body_parts<span style="color: #666666">.</span>extend(module_items)
        body_parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;/ul&gt;&quot;</span>)

    body <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>join(body_parts)
    html_out <span style="color: #666666">=</span> _render_html(
        <span style="color: #BA2121">&quot;Project Documentation&quot;</span>, <span style="color: #BA2121">&quot;Project Documentation&quot;</span>, body, nav_html
    )
    (dest_dir <span style="color: #666666">/</span> <span style="color: #BA2121">&quot;index.html&quot;</span>)<span style="color: #666666">.</span>write_text(html_out, encoding<span style="color: #666666">=</span><span style="color: #BA2121">&quot;utf-8&quot;</span>)
</code></pre>
<h3 id="_render_function">_render_function(func: dict[str, Any], language: str, level: int=3, prefix: str=&#x27;&#x27;) -&gt; list[str]</h3>
<p>The `_render_function` function generates HTML content for a given function and its nested subfunctions. It takes a dictionary representing the function, a programming language (either &quot;Python&quot; or &quot;MATLAB&quot;), an optional heading level (default is 3), and an optional prefix string. The function returns a list of HTML strings.

The function starts by creating a heading tag (`h1` to `h6`) based on the provided level, using the function&#x27;s signature or name as the content. It then appends any summary or docstring associated with the function, escaping HTML characters for safety. If the function has source code, it calls `_highlight` to render the code in a highlighted format.

For each subfunction nested within the current function, the function creates a `&lt;details&gt;` element containing a `&lt;summary&gt;` tag with the subfunction&#x27;s signature or name. It then recursively calls itself to generate HTML for the subfunction, incrementing the heading level by 1. Each subfunction&#x27;s HTML is appended to the result list.

Finally, the function returns the complete list of HTML parts representing the function and its subfunctions.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_render_function</span>(func: <span style="color: #008000">dict</span>[<span style="color: #008000">str</span>, Any], language: <span style="color: #008000">str</span>, level: <span style="color: #008000">int</span> <span style="color: #666666">=</span> <span style="color: #666666">3</span>, prefix: <span style="color: #008000">str</span> <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;&quot;</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">list</span>[<span style="color: #008000">str</span>]:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return HTML parts for ``func`` and any nested subfunctions.&quot;&quot;&quot;</span>

    parts: <span style="color: #008000">list</span>[<span style="color: #008000">str</span>] <span style="color: #666666">=</span> []
    tag <span style="color: #666666">=</span> <span style="color: #BA2121">f&quot;h</span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #008000">min</span>(level,<span style="color: #bbbbbb"> </span><span style="color: #666666">6</span>)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;</span>
    sig <span style="color: #666666">=</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;signature&quot;</span>) <span style="color: #AA22FF; font-weight: bold">or</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;name&quot;</span>, <span style="color: #BA2121">&quot;&quot;</span>)
    parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&#39;&lt;</span><span style="color: #A45A77; font-weight: bold">{</span>tag<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121"> id=&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;name&quot;</span>)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>prefix<span style="color: #A45A77; font-weight: bold">}{</span>html<span style="color: #666666">.</span>escape(sig)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/</span><span style="color: #A45A77; font-weight: bold">{</span>tag<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&gt;&#39;</span>)

    summary <span style="color: #666666">=</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;summary&quot;</span>) <span style="color: #AA22FF; font-weight: bold">or</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;docstring&quot;</span>)
    <span style="color: #008000; font-weight: bold">if</span> summary:
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&quot;&lt;p&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(summary)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/p&gt;&quot;</span>)

    src <span style="color: #666666">=</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;source&quot;</span>)
    <span style="color: #008000; font-weight: bold">if</span> src:
        parts<span style="color: #666666">.</span>append(_highlight(src, language))

    <span style="color: #008000; font-weight: bold">for</span> sub <span style="color: #AA22FF; font-weight: bold">in</span> func<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;subfunctions&quot;</span>, []):
        sub_sig <span style="color: #666666">=</span> sub<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;signature&quot;</span>) <span style="color: #AA22FF; font-weight: bold">or</span> sub<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;name&quot;</span>, <span style="color: #BA2121">&quot;&quot;</span>)
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;details&gt;&quot;</span>)
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&quot;&lt;summary&gt;Subfunction: </span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(sub_sig)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/summary&gt;&quot;</span>)
        parts<span style="color: #666666">.</span>extend(_render_function(sub, language, level <span style="color: #666666">+</span> <span style="color: #666666">1</span>))
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;/details&gt;&quot;</span>)

    <span style="color: #008000; font-weight: bold">return</span> parts
</code></pre>
<h3 id="_render_class">_render_class(cls: dict[str, Any], language: str, level: int=2) -&gt; list[str]</h3>
<p>The `_render_class` function takes a dictionary representing a class (`cls`), a programming language (`language`), and an optional indentation level (`level`) as input. It returns a list of HTML strings that represent the class, its subclasses, and methods.

- The function starts by creating a list to store HTML parts.
- It determines the appropriate heading tag based on the `level`, ensuring it does not exceed `&lt;h6&gt;`.
- It extracts the class name from the dictionary and appends an HTML header with the class name.
- If the class has a docstring or summary, it appends a paragraph containing this documentation.
- The function iterates over each method in the class, rendering them using another function `_render_function` and appending the results to the list.
- For each subclass of the current class, it appends an HTML `&lt;details&gt;` element with a `&lt;summary&gt;` for the subclass name. It then recursively calls `_render_class` on the subclass to render its contents, increasing the indentation level by 1.
- Finally, the function returns the complete list of HTML parts representing the class and its components.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">_render_class</span>(<span style="color: #008000">cls</span>: <span style="color: #008000">dict</span>[<span style="color: #008000">str</span>, Any], language: <span style="color: #008000">str</span>, level: <span style="color: #008000">int</span> <span style="color: #666666">=</span> <span style="color: #666666">2</span>) <span style="color: #666666">-&gt;</span> <span style="color: #008000">list</span>[<span style="color: #008000">str</span>]:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Return HTML parts for ``cls`` and any subclasses.&quot;&quot;&quot;</span>

    parts: <span style="color: #008000">list</span>[<span style="color: #008000">str</span>] <span style="color: #666666">=</span> []
    tag <span style="color: #666666">=</span> <span style="color: #BA2121">f&quot;h</span><span style="color: #A45A77; font-weight: bold">{</span><span style="color: #008000">min</span>(level,<span style="color: #bbbbbb"> </span><span style="color: #666666">6</span>)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;</span>
    cls_name <span style="color: #666666">=</span> <span style="color: #008000">cls</span><span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;name&quot;</span>, <span style="color: #BA2121">&quot;&quot;</span>)
    parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&#39;&lt;</span><span style="color: #A45A77; font-weight: bold">{</span>tag<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121"> id=&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>cls_name<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;&gt;Class: </span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(cls_name)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/</span><span style="color: #A45A77; font-weight: bold">{</span>tag<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&gt;&#39;</span>)
    doc <span style="color: #666666">=</span> <span style="color: #008000">cls</span><span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;docstring&quot;</span>) <span style="color: #AA22FF; font-weight: bold">or</span> <span style="color: #008000">cls</span><span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;summary&quot;</span>)
    <span style="color: #008000; font-weight: bold">if</span> doc:
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&quot;&lt;p&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(doc)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/p&gt;&quot;</span>)

    <span style="color: #008000; font-weight: bold">for</span> method <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">cls</span><span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;methods&quot;</span>, []):
        parts<span style="color: #666666">.</span>extend(_render_function(method, language, level <span style="color: #666666">+</span> <span style="color: #666666">1</span>, <span style="color: #BA2121">&quot;Method: &quot;</span>))

    <span style="color: #008000; font-weight: bold">for</span> sub <span style="color: #AA22FF; font-weight: bold">in</span> <span style="color: #008000">cls</span><span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;subclasses&quot;</span>, []):
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;details&gt;&quot;</span>)
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">f&quot;&lt;summary&gt;Class: </span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(sub<span style="color: #666666">.</span>get(<span style="color: #BA2121">&#39;name&#39;</span>,<span style="color: #bbbbbb"> </span><span style="color: #BA2121">&#39;&#39;</span>))<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/summary&gt;&quot;</span>)
        parts<span style="color: #666666">.</span>extend(_render_class(sub, language, level <span style="color: #666666">+</span> <span style="color: #666666">1</span>))
        parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;/details&gt;&quot;</span>)

    <span style="color: #008000; font-weight: bold">return</span> parts
</code></pre>
<h3 id="write_module_page">write_module_page(output_dir: str, module_data: dict[str, Any], page_links: Iterable[Tuple[str, str]]) -&gt; None</h3>
<p>The `write_module_page` function generates an HTML documentation page for a module. It takes the output directory, module data, and page links as input. The function creates the destination directory if it doesn&#x27;t exist. It constructs navigation items based on the provided page links. The body of the page includes a summary of the module, rendered classes, and functions. Each class and function is rendered using helper functions `_render_class` and `_render_function`. Finally, the HTML content is generated using `_render_html` and written to a file in the output directory.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">write_module_page</span>(output_dir: <span style="color: #008000">str</span>, module_data: <span style="color: #008000">dict</span>[<span style="color: #008000">str</span>, Any], page_links: Iterable[Tuple[<span style="color: #008000">str</span>, <span style="color: #008000">str</span>]]) <span style="color: #666666">-&gt;</span> <span style="color: #008000; font-weight: bold">None</span>:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">&quot;&quot;&quot;Render a module documentation page using ``module_data``.&quot;&quot;&quot;</span>
    dest_dir <span style="color: #666666">=</span> Path(output_dir)
    dest_dir<span style="color: #666666">.</span>mkdir(parents<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>, exist_ok<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>)
    module_name <span style="color: #666666">=</span> module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;name&quot;</span>, <span style="color: #BA2121">&quot;module&quot;</span>)
    language <span style="color: #666666">=</span> module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;language&quot;</span>, <span style="color: #BA2121">&quot;python&quot;</span>)
    nav_items <span style="color: #666666">=</span> [
        <span style="color: #BA2121">&#39;&lt;li&gt;&lt;a href=&quot;index.html&quot;&gt;&lt;strong&gt;üè† Project Overview&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;&#39;</span>
    ]
    nav_items<span style="color: #666666">.</span>extend(
        <span style="color: #BA2121">f&#39;&lt;li&gt;&lt;a href=&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>link<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&quot;&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(text)<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/a&gt;&lt;/li&gt;&#39;</span>
        <span style="color: #008000; font-weight: bold">for</span> text, link <span style="color: #AA22FF; font-weight: bold">in</span> page_links
    )
    nav_html <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>join(nav_items)

    body_parts <span style="color: #666666">=</span> [<span style="color: #BA2121">f&quot;&lt;p&gt;</span><span style="color: #A45A77; font-weight: bold">{</span>html<span style="color: #666666">.</span>escape(module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&#39;summary&#39;</span>,<span style="color: #bbbbbb"> </span><span style="color: #BA2121">&#39;&#39;</span>))<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&lt;/p&gt;&quot;</span>]

    <span style="color: #008000; font-weight: bold">for</span> <span style="color: #008000">cls</span> <span style="color: #AA22FF; font-weight: bold">in</span> module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;classes&quot;</span>, []):
        body_parts<span style="color: #666666">.</span>extend(_render_class(<span style="color: #008000">cls</span>, language, <span style="color: #666666">2</span>))

    <span style="color: #008000; font-weight: bold">if</span> module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;functions&quot;</span>):
        body_parts<span style="color: #666666">.</span>append(<span style="color: #BA2121">&quot;&lt;h2&gt;Functions&lt;/h2&gt;&quot;</span>)
    <span style="color: #008000; font-weight: bold">for</span> func <span style="color: #AA22FF; font-weight: bold">in</span> module_data<span style="color: #666666">.</span>get(<span style="color: #BA2121">&quot;functions&quot;</span>, []):
        body_parts<span style="color: #666666">.</span>extend(_render_function(func, language, <span style="color: #666666">3</span>))

    body <span style="color: #666666">=</span> <span style="color: #BA2121">&quot;</span><span style="color: #AA5D1F; font-weight: bold">\n</span><span style="color: #BA2121">&quot;</span><span style="color: #666666">.</span>join(body_parts)
    html_out <span style="color: #666666">=</span> _render_html(
        html<span style="color: #666666">.</span>escape(module_name),
        html<span style="color: #666666">.</span>escape(module_name),
        body,
        nav_html,
    )
    (dest_dir <span style="color: #666666">/</span> <span style="color: #BA2121">f&quot;</span><span style="color: #A45A77; font-weight: bold">{</span>module_name<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">.html&quot;</span>)<span style="color: #666666">.</span>write_text(html_out, encoding<span style="color: #666666">=</span><span style="color: #BA2121">&quot;utf-8&quot;</span>)
</code></pre>
    </div>
</body>
</html>
