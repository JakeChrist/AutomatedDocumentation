<!-- Generated by DocGen-LM -->
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/><meta content="width=device-width, initial-scale=1" name="viewport"/>

<title>parser_simulink</title>
<link href="static/style.css" rel="stylesheet"/>
</head>
<body class="doc-body">
<button aria-label="Toggle navigation menu" class="sidebar-toggle" id="sidebar-toggle">Menu</button>
<div aria-label="Documentation navigation" class="sidebar" role="navigation">
<h2>Navigation</h2>
<ul><li><a href="index.html"><strong>üè† Project Overview</strong></a></li><li><a href="cache.html">cache</a></li><li><a href="chunk_utils.html">chunk_utils</a></li><li><a href="docgenerator.html">docgenerator</a></li><li><a href="explaincode.html">explaincode</a></li><li><a href="gui_wrapper.html">gui_wrapper</a></li><li><a href="html_writer.html">html_writer</a></li><li><a href="llm_client.html">llm_client</a></li><li><a href="manual_utils.html">manual_utils</a></li><li><a href="parser_cpp.html">parser_cpp</a></li><li><a href="parser_java.html">parser_java</a></li><li><a href="parser_matlab.html">parser_matlab</a></li><li><a href="parser_python.html">parser_python</a></li><li><a href="parser_simulink.html"><strong>parser_simulink</strong></a></li><li><a href="retrofit_sidebar.html">retrofit_sidebar</a></li><li><a href="reviewer.html">reviewer</a></li><li><a href="sanitize_docs.html">sanitize_docs</a></li><li><a href="scanner.html">scanner</a></li><li><a href="setup.html">setup</a></li><li><a href="summarize_utils.html">summarize_utils</a></li><li><details><summary>tests</summary><ul><li><a href="test_cache.html">test_cache</a></li><li><a href="test_chunk_utils.html">test_chunk_utils</a></li><li><a href="test_docgenerator.html">test_docgenerator</a></li><li><a href="test_docgenerator_subclasses.html">test_docgenerator_subclasses</a></li><li><a href="test_explaincode.html">test_explaincode</a></li><li><a href="test_html_writer.html">test_html_writer</a></li><li><a href="test_integration.html">test_integration</a></li><li><a href="test_llm_client.html">test_llm_client</a></li><li><a href="test_manual_utils.html">test_manual_utils</a></li><li><a href="test_parser_cpp.html">test_parser_cpp</a></li><li><a href="test_parser_java.html">test_parser_java</a></li><li><a href="test_parser_matlab.html">test_parser_matlab</a></li><li><a href="test_parser_python.html">test_parser_python</a></li><li><a href="test_resume_progress.html">test_resume_progress</a></li><li><a href="test_retrofit_sidebar.html">test_retrofit_sidebar</a></li><li><a href="test_reviewer.html">test_reviewer</a></li><li><a href="test_sanitize_docs.html">test_sanitize_docs</a></li><li><a href="test_scanner.html">test_scanner</a></li></ul></details></li></ul>
</div>
<main class="content" role="main">
        <div class="content-inner">
<h1>parser_simulink</h1>
<p>The <code>parser_simulink</code> module loads Simulink <code>.slx</code> and <code>.mdl</code> files, extracts block metadata, and builds a structured model overview. It reads block diagram XML from SLX archives or parses MDL text to recover block names, block types, parameters, and interconnections. The resulting dictionary feeds downstream documentation workflows so Simulink systems appear alongside other language modules.</p>
<p>Beyond the text summary, the parser also provides the information necessary to render a simple block diagram. The visualization below is generated from the parser&#39;s output structure and illustrates how block metadata and connections combine into a readable Simulink-style schematic.</p>
<figure class="simulink-figure">
<figcaption>Example Simulink diagram rendered from parsed block and connection data.</figcaption>
<svg aria-labelledby="simulink-diagram-title" role="img" viewBox="0 0 520 180" xmlns="http://www.w3.org/2000/svg">
<title id="simulink-diagram-title">Simplified Simulink diagram with source, gain, and scope blocks</title>
<defs>
<linearGradient id="blockGradient" x1="0%" y1="0%" x2="100%" y2="100%">
<stop offset="0%" stop-color="#f9fbff"/>
<stop offset="100%" stop-color="#dce6ff"/>
</linearGradient>
</defs>
<rect fill="#eef2ff" height="160" rx="12" width="500" x="10" y="10"/>
<g transform="translate(40,55)">
<rect fill="url(#blockGradient)" height="60" rx="6" width="110" x="0" y="0"/>
<rect fill="#3b82f6" height="60" rx="6" width="12" x="-12" y="0"/>
<text fill="#1f2937" font-size="16" font-weight="600" x="55" y="36" text-anchor="middle">Signal Source</text>
<text fill="#3b82f6" font-size="10" font-weight="600" x="-6" y="33" text-anchor="middle">1</text>
</g>
<g transform="translate(210,40)">
<rect fill="url(#blockGradient)" height="90" rx="6" width="120" x="0" y="0"/>
<rect fill="#10b981" height="90" rx="6" width="12" x="-12" y="0"/>
<text fill="#065f46" font-size="12" font-weight="600" x="48" y="32">Gain</text>
<text fill="#111827" font-size="22" font-weight="700" x="60" y="62">√ó 3.5</text>
<text fill="#10b981" font-size="10" font-weight="600" x="-6" y="48" text-anchor="middle">2</text>
</g>
<g transform="translate(380,55)">
<rect fill="url(#blockGradient)" height="60" rx="6" width="110" x="0" y="0"/>
<rect fill="#f97316" height="60" rx="6" width="12" x="110" y="0"/>
<text fill="#1f2937" font-size="16" font-weight="600" x="55" y="36" text-anchor="middle">Scope</text>
<text fill="#f97316" font-size="10" font-weight="600" x="116" y="33" text-anchor="middle">3</text>
</g>
<path d="M 28 85 H 40" stroke="#3b82f6" stroke-linecap="round" stroke-width="4"/>
<path d="M 150 85 H 198" marker-end="url(#arrowhead)" stroke="#2563eb" stroke-linecap="round" stroke-width="4"/>
<path d="M 318 85 H 380" marker-end="url(#arrowhead)" stroke="#0f766e" stroke-linecap="round" stroke-width="4"/>
<defs>
<marker id="arrowhead" markerHeight="6" markerUnits="strokeWidth" markerWidth="6" orient="auto" refX="5" refY="3">
<polygon fill="#1f2937" points="0 0, 6 3, 0 6"/>
</marker>
</defs>
</svg>
</figure>
<p>The parser exposes the high-level model overview through the <code>module_docstring</code> field and returns raw block diagram text as <code>source_text</code>, enabling both human-readable documentation and downstream tooling to recreate visual diagrams programmatically.</p>
<h2>Functions</h2>
<h3 id="parse_simulink_file">parse_simulink_file(path: str) -&gt; Dict[str, Any]</h3>
<p>Parse a Simulink model file into a structured summary containing block metadata, connection details, and the rendered overview string used in documentation pages.</p>
<pre><code><span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">parse_simulink_file</span>(path: <span style="color: #008000">str</span>) <span style="color: #666666">-&gt;</span> Dict[<span style="color: #008000">str</span>, Any]:
<span style="color: #bbbbbb">    </span><span style="color: #BA2121; font-style: italic">"""Parse a Simulink ``.slx`` or ``.mdl`` file into a structured summary."""</span>

    file_path <span style="color: #666666">=</span> Path(path)
    suffix <span style="color: #666666">=</span> file_path<span style="color: #666666">.</span>suffix<span style="color: #666666">.</span>lower()
    <span style="color: #008000; font-weight: bold">if</span> suffix <span style="color: #666666">==</span> <span style="color: #BA2121">".slx"</span>:
        xml_text <span style="color: #666666">=</span> _read_slx_blockdiagram(file_path)
        model <span style="color: #666666">=</span> _parse_blockdiagram_xml(xml_text)
        <span style="color: #008000; font-weight: bold">return</span> {<span style="color: #BA2121">"model"</span>: model, <span style="color: #BA2121">"module_docstring"</span>: _model_overview(model), <span style="color: #BA2121">"source_text"</span>: xml_text}
    <span style="color: #008000; font-weight: bold">if</span> suffix <span style="color: #666666">==</span> <span style="color: #BA2121">".mdl"</span>:
        text <span style="color: #666666">=</span> file_path<span style="color: #666666">.</span>read_text(encoding<span style="color: #666666">=</span><span style="color: #BA2121">"utf-8"</span>, errors<span style="color: #666666">=</span><span style="color: #BA2121">"ignore"</span>)
        model <span style="color: #666666">=</span> _parse_mdl_text(text)
        <span style="color: #008000; font-weight: bold">return</span> {<span style="color: #BA2121">"model"</span>: model, <span style="color: #BA2121">"module_docstring"</span>: _model_overview(model), <span style="color: #BA2121">"source_text"</span>: text}
    <span style="color: #008000; font-weight: bold">raise</span> SyntaxError(<span style="color: #BA2121">f"Unsupported Simulink file type: {file_path.suffix}"</span>)
</code></pre>
</div>
    </main>
<script src="static/toggle.js"></script>
</body>
</html>
